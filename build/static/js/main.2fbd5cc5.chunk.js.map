{"version":3,"sources":["services/anecdotes.js","reducers/anecdoteReducer.js","reducers/notificationReducer.js","components/AnecdoteList.js","components/AnecdoteForm.js","components/Notification.js","reducers/filterReducer.js","components/Filter.js","App.js","store.js","index.js"],"names":["baseUrl","process","PORT","getAll","a","axios","get","response","data","createNew","content","object","votes","post","addVote","anecdote","put","id","sort","anecdotes","b","reducer","state","action","console","log","type","concat","map","currentTimeOutId","setNotification","notification","time","dispatch","clearTimeout","Promise","resolve","setTimeout","notificationReducer","Anecdote","handleClick","onClick","Anecdotes","useDispatch","useSelector","filter","includes","voteForAnecdote","anecdoteService","updatedAnecdote","voteAnecdote","mapDispatchToProps","createAnecdote","newAnecdote","connect","props","addAnecdote","event","preventDefault","target","value","onSubmit","name","ConnectedNotes","style","border","padding","borderWidth","marginBottom","filterReducer","setFilter","onChange","App","useEffect","AnecdoteList","AnecdoteForm","combineReducers","anecdoteReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2fbd5cc5.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"http://localhost:\"+(process.env.PORT || 3001)+\"/db/anecdotes\";\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst createNew = async (content) => {\n  const object = { content, votes: 0 };\n  const response = await axios.post(baseUrl, object);\n  return response.data;\n};\n\nconst addVote = async (anecdote) => {\n  anecdote.votes += 1;\n  const response = await axios.put(`${baseUrl}/${anecdote.id}`, anecdote);\n  return response.data;\n};\n\nexport default { getAll, createNew, addVote };\n","import anecdoteService from \"../services/anecdotes\";\n\nconst sort = (anecdotes) => {\n  anecdotes.sort(function (a, b) {\n    return b.votes - a.votes;\n  });\n  return anecdotes;\n};\n\nconst reducer = (state = [], action) => {\n  console.log(\"state now: \", state);\n  console.log(\"action\", action);\n  switch (action.type) {\n    case \"NEW_ANECDOTE\":\n      return sort(state.concat(action.data));\n    case \"INIT_ANECDOTES\":\n      return sort(action.data);\n    case \"VOTE\": {\n      return sort(\n        state.map((anecdote) =>\n          anecdote.id !== action.data.id ? anecdote : action.data\n        )\n      );\n    }\n    default:\n      return state;\n  }\n};\n\nexport const createAnecdote = (content) => {\n  return async (dispatch) => {\n    const newAnecdote = await anecdoteService.createNew(content);\n    dispatch({\n      type: \"NEW_ANECDOTE\",\n      data: newAnecdote,\n    });\n  };\n};\n\nexport const voteAnecdote = (anecdote) => {\n  return async (dispatch) => {\n    const updatedAnecdote = await anecdoteService.addVote(anecdote);\n    dispatch({\n      type: \"VOTE\",\n      data: updatedAnecdote,\n    });\n  };\n};\n\nexport const initializeAnecdotes = () => {\n  return async (dispatch) => {\n    const anecdotes = await anecdoteService.getAll();\n    dispatch({\n      type: \"INIT_ANECDOTES\",\n      data: anecdotes,\n    });\n  };\n};\n\nexport default reducer;\n","const notificationReducer = (state = \"\", action) => {\n  switch (action.type) {\n    case \"SET_NOTIFICATION\":\n      return action.notification;\n    case \"REMOVE_NOTIFICATION\":\n      return \"\";\n    default:\n      return state;\n  }\n};\n\nlet currentTimeOutId = \"\";\nexport const setNotification = (notification, time) => {\n  return async (dispatch) => {\n    clearTimeout(currentTimeOutId);\n    dispatch({\n      type: \"SET_NOTIFICATION\",\n      notification,\n    });\n    await new Promise(\n      (resolve) => (currentTimeOutId = setTimeout(resolve, time * 1000))\n    );\n    dispatch({\n      type: \"REMOVE_NOTIFICATION\",\n    });\n  };\n};\n\nexport default notificationReducer;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { voteAnecdote } from \"../reducers/anecdoteReducer\";\nimport { setNotification } from \"../reducers/notificationReducer\";\n\nconst Anecdote = ({ anecdote, handleClick }) => {\n  return (\n    <div>\n      {anecdote.content}\n      <div>\n        has {anecdote.votes} <button onClick={handleClick}>vote</button>\n      </div>\n    </div>\n  );\n};\n\nconst Anecdotes = () => {\n  const dispatch = useDispatch();\n  // const anecdotes = useSelector((state) => state.anecdotes);\n\n  const anecdotes = useSelector(({ filter, anecdotes }) => {\n    if (!filter) {\n      return anecdotes;\n    }\n    return anecdotes.filter((anecdote) => anecdote.content.includes(filter));\n  });\n\n  const voteForAnecdote = (anecdote) => {\n    dispatch(voteAnecdote(anecdote));\n    dispatch(setNotification(\"you voted '\" + anecdote.content + \"'\", 5));\n  };\n\n  return (\n    <div>\n      {anecdotes.map((anecdote) => (\n        <Anecdote\n          key={anecdote.id}\n          anecdote={anecdote}\n          handleClick={() => voteForAnecdote(anecdote)} //() => dispatch(voteAnecdote(anecdote.id))\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Anecdotes;\n","import React from \"react\";\n// import { useDispatch } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport { createAnecdote } from \"../reducers/anecdoteReducer\";\nimport { setNotification } from \"../reducers/notificationReducer\";\n\nconst NewAnecdote = (props) => {\n  // const dispatch = useDispatch();\n\n  const addAnecdote = async (event) => {\n    event.preventDefault();\n    const content = event.target.anecdote.value;\n    event.target.anecdote.value = \"\";\n    props.createAnecdote(content);\n    props.setNotification(\"New anecdote '\" + content + \"' created\", 5);\n  };\n\n  return (\n    <form onSubmit={addAnecdote}>\n      <br />\n      Add anecdote:\n      <input name=\"anecdote\" />\n      <button type=\"submit\">add</button>\n    </form>\n  );\n};\n\n// export default NewAnecdote;\nconst mapDispatchToProps = {\n  createAnecdote,\n  setNotification,\n};\n\nexport default connect(null, mapDispatchToProps)(NewAnecdote);\n","import React from \"react\";\n// import { useSelector } from \"react-redux\";\nimport { connect } from \"react-redux\";\n\nconst Notification = (props) => {\n  // const notification = useSelector((state) => state.notification);\n  const notification = props.notification;\n  const style = {\n    border: \"solid\",\n    padding: 10,\n    borderWidth: 1,\n    marginBottom: 10,\n  };\n  return notification ? <div style={style}>{notification}</div> : null;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    notification: state.notification,\n  };\n};\n// export default Notification;\nconst ConnectedNotes = connect(mapStateToProps)(Notification);\nexport default ConnectedNotes;\n","const filterReducer = (state = \"\", action) => {\n  switch (action.type) {\n    case \"SET_FILTER\":\n      return action.filter;\n    default:\n      return state;\n  }\n};\n\nexport const setFilter = (filter) => {\n  return {\n    type: \"SET_FILTER\",\n    filter,\n  };\n};\n\nexport default filterReducer;\n","import React from \"react\";\n// import { useDispatch } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport { setFilter } from \"../reducers/filterReducer\";\n\nconst Filter = (props) => {\n  // const dispatch = useDispatch();\n  const handleChange = (event) => {\n    // input-field value is in variable event.target.value\n    event.preventDefault();\n    const filter = event.target.value;\n    // dispatch(setFilter(filter));\n    props.setFilter(filter);\n  };\n  const style = {\n    marginBottom: 10,\n  };\n\n  return (\n    <div style={style}>\n      filter <input onChange={handleChange} />\n    </div>\n  );\n};\n\nconst mapDispatchToProps = {\n  setFilter,\n};\n\n// export default Filter;\nexport default connect(null, mapDispatchToProps)(Filter);\n","import React, { useEffect } from \"react\";\nimport AnecdoteList from \"./components/AnecdoteList\";\nimport AnecdoteForm from \"./components/AnecdoteForm\";\nimport Notification from \"./components/Notification\";\nimport Filter from \"./components/Filter\";\nimport { initializeAnecdotes } from \"./reducers/anecdoteReducer\";\nimport { useDispatch } from \"react-redux\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(initializeAnecdotes());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <h1>Anecdotes</h1>\n      <Notification />\n      <Filter />\n      <AnecdoteList />\n      <AnecdoteForm />\n    </div>\n  );\n};\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport anecdoteReducer from \"./reducers/anecdoteReducer\";\nimport notificationReducer from \"./reducers/notificationReducer\";\nimport filterReducer from \"./reducers/filterReducer\";\n\nconst reducer = combineReducers({\n  anecdotes: anecdoteReducer,\n  notification: notificationReducer,\n  filter: filterReducer,\n});\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store.js\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}